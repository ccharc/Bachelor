load("C:/Users/line_/Documents/Bachelorprojekt/Bachelor/Bachelor/Bachelor/Data/.RData")
setwd("~/")
install.packages("tseries")
install.packages("imputeTS")
library(readxl)
library(vars)
elprice15 = data.frame(read.csv("elspot-prices_2015_hourly_eur.csv",sep=";"), "numeric")
elprice16 = data.frame(read.csv("elspot-prices_2016_hourly_eur.csv",sep=";"), "numeric")
elprice17 = data.frame(read.csv("elspot-prices_2017_hourly_eur.csv",sep=";"), "numeric")
elprice18 = data.frame(read.csv("elspot-prices_2018_hourly_eur.csv",sep=";"), "numeric")
cons15 = data.frame(read.csv("consumption-se-areas_2015_hourly.csv",sep=";"))
cons16 = data.frame(read.csv("consumption-se-areas_2016_hourly.csv",sep=";"))
cons17 = data.frame(read.csv("consumption-se-areas_2017_hourly.csv",sep=";"))
cons18 = data.frame(read.csv("consumption-se-areas_2018_hourly.csv",sep=";"))
wind15 = data.frame(read.csv("wind-power-se_2015_hourly.csv",sep=";"))
wind16 = data.frame(read.csv("wind-power-se_2016_hourly.csv",sep=";"))
wind17 = data.frame(read.csv("wind-power-se_2017_hourly.csv",sep=";"))
wind18 = data.frame(read.csv("wind-power-se_2018_hourly.csv",sep=";"))
#DATOER
#TIMER
#HOURS15 = dfp15[747:8763,2]
#HOURS16 = dfp16[3:8787,2]
#HOURS17 = dfp17[3:8763,2]
#HOURS18 = dfp18[3:8763,2]
#Hours = c(HOURS15,HOURS16,HOURS17,HOURS18)
#PRISER
PRICE15 = elprice15[554:8763,4]
PRICE16 = elprice16[3:8787,4]
PRICE17 = elprice17[3:8763,4]
PRICE18 = elprice18[3:6290,4]
SE1price= na_mean(c(PRICE15,PRICE16,PRICE17,PRICE18))
dfprice  = data.frame(SE1price)
#FORBRUG
CONS15 = cons15[554:8763,3]
CONS16 = cons16[3:8787,3]
CONS17 = cons17[3:8763,3]
CONS18 = cons18[3:6290,3]
SE1cons = na_mean(c(CONS15,CONS16,CONS17,CONS18))
dfcons = data.frame(SE1cons)
#VINDPRODUKTION
WIND15 = wind15[554:8763,3]
WIND16 = wind16[3:8787,3]
WIND17 = wind17[3:8763,3]
WIND18 = wind18[3:6290,3]
SE1wind =na_mean(c(WIND15,WIND16,WIND17,WIND18))
#DATO
#dato15 = elprice15[554:8763,1]
#dato16 = elprice16[3:8787,1]
#dato17 = elprice17[3:8763,1]
#dato18 = elprice18[3:6290,1]
#dato = c(dato15,dato16,dato17,dato18)
#DATA
data = data.frame(SE1price,SE1cons,SE1wind)
windseries = as.ts(SE1wind)
consseries = as.ts(SE1cons)
priceseries= as.ts(SE1price)
plot.ts(priceseries)
plot.ts(windseries)
plot.ts(consseries)
acf(consseries)
acf(windseries)
acf(priceseries)
library(imputeTS)
library(readxl)
library(vars)
elprice15 = data.frame(read.csv("elspot-prices_2015_hourly_eur.csv",sep=";"), "numeric")
elprice16 = data.frame(read.csv("elspot-prices_2016_hourly_eur.csv",sep=";"), "numeric")
elprice17 = data.frame(read.csv("elspot-prices_2017_hourly_eur.csv",sep=";"), "numeric")
elprice18 = data.frame(read.csv("elspot-prices_2018_hourly_eur.csv",sep=";"), "numeric")
cons15 = data.frame(read.csv("consumption-se-areas_2015_hourly.csv",sep=";"))
cons16 = data.frame(read.csv("consumption-se-areas_2016_hourly.csv",sep=";"))
cons17 = data.frame(read.csv("consumption-se-areas_2017_hourly.csv",sep=";"))
cons18 = data.frame(read.csv("consumption-se-areas_2018_hourly.csv",sep=";"))
wind15 = data.frame(read.csv("wind-power-se_2015_hourly.csv",sep=";"))
wind16 = data.frame(read.csv("wind-power-se_2016_hourly.csv",sep=";"))
wind17 = data.frame(read.csv("wind-power-se_2017_hourly.csv",sep=";"))
wind18 = data.frame(read.csv("wind-power-se_2018_hourly.csv",sep=";"))
#DATOER
#TIMER
#HOURS15 = dfp15[747:8763,2]
#HOURS16 = dfp16[3:8787,2]
#HOURS17 = dfp17[3:8763,2]
#HOURS18 = dfp18[3:8763,2]
#Hours = c(HOURS15,HOURS16,HOURS17,HOURS18)
#PRISER
PRICE15 = elprice15[554:8763,4]
PRICE16 = elprice16[3:8787,4]
PRICE17 = elprice17[3:8763,4]
PRICE18 = elprice18[3:6290,4]
SE1price= na_mean(c(PRICE15,PRICE16,PRICE17,PRICE18))
dfprice  = data.frame(SE1price)
#FORBRUG
CONS15 = cons15[554:8763,3]
CONS16 = cons16[3:8787,3]
CONS17 = cons17[3:8763,3]
CONS18 = cons18[3:6290,3]
SE1cons = na_mean(c(CONS15,CONS16,CONS17,CONS18))
dfcons = data.frame(SE1cons)
#VINDPRODUKTION
WIND15 = wind15[554:8763,3]
WIND16 = wind16[3:8787,3]
WIND17 = wind17[3:8763,3]
WIND18 = wind18[3:6290,3]
SE1wind =na_mean(c(WIND15,WIND16,WIND17,WIND18))
#DATO
#dato15 = elprice15[554:8763,1]
#dato16 = elprice16[3:8787,1]
#dato17 = elprice17[3:8763,1]
#dato18 = elprice18[3:6290,1]
#dato = c(dato15,dato16,dato17,dato18)
#DATA
data = data.frame(SE1price,SE1cons,SE1wind)
windseries = as.ts(SE1wind)
consseries = as.ts(SE1cons)
priceseries= as.ts(SE1price)
plot.ts(priceseries)
plot.ts(windseries)
plot.ts(consseries)
acf(consseries)
acf(windseries)
acf(priceseries)
setwd("~/")
setwd("~/Bachelorprojekt/Bachelor/Bachelor/Bachelor/Data")
library(readxl)
library(vars)
elprice15 = data.frame(read.csv("elspot-prices_2015_hourly_eur.csv",sep=";"), "numeric")
elprice16 = data.frame(read.csv("elspot-prices_2016_hourly_eur.csv",sep=";"), "numeric")
elprice17 = data.frame(read.csv("elspot-prices_2017_hourly_eur.csv",sep=";"), "numeric")
elprice18 = data.frame(read.csv("elspot-prices_2018_hourly_eur.csv",sep=";"), "numeric")
cons15 = data.frame(read.csv("consumption-se-areas_2015_hourly.csv",sep=";"))
cons16 = data.frame(read.csv("consumption-se-areas_2016_hourly.csv",sep=";"))
cons17 = data.frame(read.csv("consumption-se-areas_2017_hourly.csv",sep=";"))
cons18 = data.frame(read.csv("consumption-se-areas_2018_hourly.csv",sep=";"))
wind15 = data.frame(read.csv("wind-power-se_2015_hourly.csv",sep=";"))
wind16 = data.frame(read.csv("wind-power-se_2016_hourly.csv",sep=";"))
wind17 = data.frame(read.csv("wind-power-se_2017_hourly.csv",sep=";"))
wind18 = data.frame(read.csv("wind-power-se_2018_hourly.csv",sep=";"))
#DATOER
#TIMER
#HOURS15 = dfp15[747:8763,2]
#HOURS16 = dfp16[3:8787,2]
#HOURS17 = dfp17[3:8763,2]
#HOURS18 = dfp18[3:8763,2]
#Hours = c(HOURS15,HOURS16,HOURS17,HOURS18)
#PRISER
PRICE15 = elprice15[554:8763,4]
PRICE16 = elprice16[3:8787,4]
PRICE17 = elprice17[3:8763,4]
PRICE18 = elprice18[3:6290,4]
SE1price= na_mean(c(PRICE15,PRICE16,PRICE17,PRICE18))
dfprice  = data.frame(SE1price)
#FORBRUG
CONS15 = cons15[554:8763,3]
CONS16 = cons16[3:8787,3]
CONS17 = cons17[3:8763,3]
CONS18 = cons18[3:6290,3]
SE1cons = na_mean(c(CONS15,CONS16,CONS17,CONS18))
dfcons = data.frame(SE1cons)
#VINDPRODUKTION
WIND15 = wind15[554:8763,3]
WIND16 = wind16[3:8787,3]
WIND17 = wind17[3:8763,3]
WIND18 = wind18[3:6290,3]
SE1wind =na_mean(c(WIND15,WIND16,WIND17,WIND18))
#DATO
#dato15 = elprice15[554:8763,1]
#dato16 = elprice16[3:8787,1]
#dato17 = elprice17[3:8763,1]
#dato18 = elprice18[3:6290,1]
#dato = c(dato15,dato16,dato17,dato18)
#DATA
data = data.frame(SE1price,SE1cons,SE1wind)
windseries = as.ts(SE1wind)
consseries = as.ts(SE1cons)
priceseries= as.ts(SE1price)
plot.ts(priceseries)
plot.ts(windseries)
plot.ts(consseries)
acf(consseries)
acf(windseries)
acf(priceseries)
X_t = (SE1price - S(t))
X_t = (SE1price - Scoef(t))
X_t = (SE1price - Scoef(SE1price))
# Koefficientudregning af S(t)
scoef = function(fit){
coef = as.numeric(fit$coefficients)
cm = vcov(fit)
# Koefficienter til ?rlig periode
c1  = sqrt(coef[4]^2 + coef[5]^2)
c2  = atan(coef[5]/coef[4]) * 365.25/(2*pi)
# Koefficienter til halv?rlig periode
c3  = sqrt(coef[6]^2 + coef[7]^2)
c4  = atan(coef[7]/coef[6]) * 365.25/(4*pi)
# Koefficienter til kvartal periode
c5  = sqrt(coef[8]^2 + coef[9]^2)
c6  = atan(coef[9]/coef[8]) * 365.25/(8*pi)
# Koefficienter til m?nedlig periode
c7 = sqrt(coef[10]^2 + coef[11]^2)
c8 = atan(coef[11]/coef[10]) * 365.25/(24*pi)
#Koefficienter til ugentlig periode
c9 = sqrt(coef[12]^2 + coef[13]^2)
c10 = atan(coef[13]/coef[12]) * 365.25/(104*pi)
#Koefficienter til daglig periode
c9 = sqrt(coef[14]^2 + coef[15]^2)
c10 = atan(coef[15]/coef[14]) * 365.25/(730*pi)
# Standardafvigelser til ?rlig periode
sdc1 = sqrt( 1/(coef[4]^2 + coef[5]^2)*(coef[4]^2 * cm[4,4] + coef[5]^2*cm[5,5] + coef[4]*coef[5] * 2*cm[4,5]) )
sdc2 = sqrt( (365.25/( 2*pi*(coef[4]^2 + coef[5]^2) ) )^2 * ( coef[5]^2 * cm[4,4] + coef[4]^2 * cm[5,5] - 2*coef[4]*coef[5]*cm[4,5])  )
# Standardafvigelser til halv?rlig periode
sdc3 = sqrt( 1/(coef[6]^2 + coef[7]^2)*(coef[6]^2 * cm[6,6] + coef[7]^2*cm[7,7] + coef[6]*coef[7] * 2*cm[6,7]) )
sdc4 = sqrt( (365.25/( 2*pi*(coef[6]^2 + coef[7]^2) ) )^2 * ( coef[7]^2 * cm[6,6] + coef[6]^2 * cm[7,7] - 2*coef[6]*coef[7]*cm[6,7])  )
# Standardafvigelser til kvartal periode
sdc5 = sqrt( 1/(coef[8]^2 + coef[9]^2)*(coef[8]^2 * cm[8,8] + coef[9]^2*cm[9,9] + coef[8]*coef[9] * 2*cm[8,9]) )
sdc6 = sqrt( (365.25/( 2*pi*(coef[8]^2 + coef[9]^2) ) )^2 * ( coef[9]^2 * cm[8,8] + coef[8]^2 * cm[9,9] - 2*coef[8]*coef[9]*cm[8,9])  )
# Standardafvigelse til m?nedlig periode
sdc7 = sqrt( 1/(coef[10]^2 + coef[11]^2)*(coef[10]^2 * cm[10,10] + coef[11]^2*cm[11,11] + coef[10]*coef[11] * 2*cm[10,11]) )
sdc8 = sqrt( (365.25/( 2*pi*(coef[10]^2 + coef[11]^2) ) )^2 * ( coef[11]^2 * cm[10,10] + coef[10]^2 * cm[11,11] - 2*coef[10]*coef[11]*cm[10,11])  )
#Standardafvigelse til ugentlig periode
sdc9 = sqrt( 1/(coef[12]^2 + coef[13]^2)*(coef[12]^2 * cm[12,12] + coef[13]^2*cm[13,13] + coef[12]*coef[13] * 2*cm[12,13]) )
sdc10 = sqrt( (365.25/( 2*pi*(coef[12]^2 + coef[13]^2) ) )^2 * ( coef[13]^2 * cm[12,12] + coef[12]^2 * cm[13,13] - 2*coef[12]*coef[5]*cm[12,13])  )
#Standardafvigelse til daglig periode
sdc11 = sqrt( 1/(coef[14]^2 + coef[15]^2)*(coef[14]^2 * cm[14,14] + coef[5]^2*cm[15,15] + coef[14]*coef[15] * 2*cm[14,15]) )
sdc12 = sqrt( (365.25/( 2*pi*(coef[14]^2 + coef[15]^2) ) )^2 * ( coef[15]^2 * cm[14,14] + coef[14]^2 * cm[15,15] - 2*coef[14]*coef[15]*cm[14,15])  )
}
# Dataframe med alt info
ls = list( coef = data.frame(b0 = coef[1] , b1 = coef[2] , b2 = coef[3] , c1 = c1 , c2 = c2 , c3 = c3 , c4 = c4 ,
c5 = c5 , c6 = c6 , c7 = c7 , c8 = c8 , c9 = c9 , c10 = c10 ),
sdc  = data.frame(b0 = sqrt(cm[1,1]) , b1 = sqrt(cm[2,2]) , b2 = sqrt(cm[3,3]) ,
c1 = sdc1 , c2 = sdc2 , c3 = sdc3 , c4 = sdc4 , c5 = sdc5 , c6 = sdc6 ,
c7 =sdc7 , c8 = sdc8 , c9 = sdc9 , c10 = sdc10 , c11 = sdc11 , c12 = sdc12 ))
coef?
e
# Koefficientudregning af S(t)
scoef = function(fit){
coef = as.numeric(fit$coefficients)
cm = vcov(fit)
# Koefficienter til ?rlig periode
c1  = sqrt(coef[4]^2 + coef[5]^2)
c2  = atan(coef[5]/coef[4]) * 365.25/(2*pi)
# Koefficienter til halv?rlig periode
c3  = sqrt(coef[6]^2 + coef[7]^2)
c4  = atan(coef[7]/coef[6]) * 365.25/(4*pi)
# Koefficienter til kvartal periode
c5  = sqrt(coef[8]^2 + coef[9]^2)
c6  = atan(coef[9]/coef[8]) * 365.25/(8*pi)
# Koefficienter til m?nedlig periode
c7 = sqrt(coef[10]^2 + coef[11]^2)
c8 = atan(coef[11]/coef[10]) * 365.25/(24*pi)
#Koefficienter til ugentlig periode
c9 = sqrt(coef[12]^2 + coef[13]^2)
c10 = atan(coef[13]/coef[12]) * 365.25/(104*pi)
#Koefficienter til daglig periode
c11 = sqrt(coef[14]^2 + coef[15]^2)
c12 = atan(coef[15]/coef[14]) * 365.25/(730*pi)
# Standardafvigelser til ?rlig periode
sdc1 = sqrt( 1/(coef[4]^2 + coef[5]^2)*(coef[4]^2 * cm[4,4] + coef[5]^2*cm[5,5] + coef[4]*coef[5] * 2*cm[4,5]) )
sdc2 = sqrt( (365.25/( 2*pi*(coef[4]^2 + coef[5]^2) ) )^2 * ( coef[5]^2 * cm[4,4] + coef[4]^2 * cm[5,5] - 2*coef[4]*coef[5]*cm[4,5])  )
# Standardafvigelser til halv?rlig periode
sdc3 = sqrt( 1/(coef[6]^2 + coef[7]^2)*(coef[6]^2 * cm[6,6] + coef[7]^2*cm[7,7] + coef[6]*coef[7] * 2*cm[6,7]) )
sdc4 = sqrt( (365.25/( 2*pi*(coef[6]^2 + coef[7]^2) ) )^2 * ( coef[7]^2 * cm[6,6] + coef[6]^2 * cm[7,7] - 2*coef[6]*coef[7]*cm[6,7])  )
# Standardafvigelser til kvartal periode
sdc5 = sqrt( 1/(coef[8]^2 + coef[9]^2)*(coef[8]^2 * cm[8,8] + coef[9]^2*cm[9,9] + coef[8]*coef[9] * 2*cm[8,9]) )
sdc6 = sqrt( (365.25/( 2*pi*(coef[8]^2 + coef[9]^2) ) )^2 * ( coef[9]^2 * cm[8,8] + coef[8]^2 * cm[9,9] - 2*coef[8]*coef[9]*cm[8,9])  )
# Standardafvigelse til m?nedlig periode
sdc7 = sqrt( 1/(coef[10]^2 + coef[11]^2)*(coef[10]^2 * cm[10,10] + coef[11]^2*cm[11,11] + coef[10]*coef[11] * 2*cm[10,11]) )
sdc8 = sqrt( (365.25/( 2*pi*(coef[10]^2 + coef[11]^2) ) )^2 * ( coef[11]^2 * cm[10,10] + coef[10]^2 * cm[11,11] - 2*coef[10]*coef[11]*cm[10,11])  )
#Standardafvigelse til ugentlig periode
sdc9 = sqrt( 1/(coef[12]^2 + coef[13]^2)*(coef[12]^2 * cm[12,12] + coef[13]^2*cm[13,13] + coef[12]*coef[13] * 2*cm[12,13]) )
sdc10 = sqrt( (365.25/( 2*pi*(coef[12]^2 + coef[13]^2) ) )^2 * ( coef[13]^2 * cm[12,12] + coef[12]^2 * cm[13,13] - 2*coef[12]*coef[5]*cm[12,13])  )
#Standardafvigelse til daglig periode
sdc11 = sqrt( 1/(coef[14]^2 + coef[15]^2)*(coef[14]^2 * cm[14,14] + coef[5]^2*cm[15,15] + coef[14]*coef[15] * 2*cm[14,15]) )
sdc12 = sqrt( (365.25/( 2*pi*(coef[14]^2 + coef[15]^2) ) )^2 * ( coef[15]^2 * cm[14,14] + coef[14]^2 * cm[15,15] - 2*coef[14]*coef[15]*cm[14,15])  )
}
# Dataframe med alt info
ls = list( coef = data.frame(b0 = coef[1] , b1 = coef[2] , b2 = coef[3] , c1 = c1 , c2 = c2 , c3 = c3 , c4 = c4 ,
c5 = c5 , c6 = c6 , c7 = c7 , c8 = c8 , c9 = c9 , c10 = c10 ),
sdc  = data.frame(b0 = sqrt(cm[1,1]) , b1 = sqrt(cm[2,2]) , b2 = sqrt(cm[3,3]) ,
c1 = sdc1 , c2 = sdc2 , c3 = sdc3 , c4 = sdc4 , c5 = sdc5 , c6 = sdc6 ,
c7 =sdc7 , c8 = sdc8 , c9 = sdc9 , c10 = sdc10 , c11 = sdc11 , c12 = sdc12 ))
myfunc = function(b_0, b_T, c_1,c_2,c_3,c_4,c_5,c_6,c_7,c_8,c_9,c_10,c_11,c_12,c13,c_14,t){
b_0+b_T*t+
c_1 * sin((t*2*pi)/365) + c_2* cos((t*2*pi)/365)+
c_3 * sin((t*4*pi)/365) + c_4 * cos((t*4*pi)/365)+
c_5 * sin((t*8*pi)/365) + c_6 * cos((t*8*pi)/365)+
c_7 * sin((t*24*pi)/365) + c_8 * cos((t*24*pi)/365)+
c_9 * sin((t*104*pi)/365) + c_10 * cos((t*104*pi)/365)+
c_11 * sin((t*730*pi)/365) + c_12 * cos((t*730*pi)/365)+
c_13 * sin((t*17520*pi)/365) + c_14 * ((t*17520*pi)/365)
}
myfunc = function(b_0, b_T, c_1,c_2,c_3,c_4,c_5,c_6,c_7,c_8,c_9,c_10,c_11,c_12,c13,c_14,t){
b_0+b_T*t+
c_1 * sin((t*2*pi)/365) + c_2* cos((t*2*pi)/365)+
c_3 * sin((t*4*pi)/365) + c_4 * cos((t*4*pi)/365)+
c_5 * sin((t*8*pi)/365) + c_6 * cos((t*8*pi)/365)+
c_7 * sin((t*24*pi)/365) + c_8 * cos((t*24*pi)/365)+
c_9 * sin((t*104*pi)/365) + c_10 * cos((t*104*pi)/365)+
c_11 * sin((t*730*pi)/365) + c_12 * cos((t*730*pi)/365)+
c_13 * sin((t*17520*pi)/365) + c_14 * ((t*17520*pi)/365)
}
decwind = decompose(windseries)
library(readxl)
library(vars)
elprice15 = data.frame(read.csv("elspot-prices_2015_hourly_eur.csv",sep=";"), "numeric")
elprice16 = data.frame(read.csv("elspot-prices_2016_hourly_eur.csv",sep=";"), "numeric")
elprice17 = data.frame(read.csv("elspot-prices_2017_hourly_eur.csv",sep=";"), "numeric")
elprice18 = data.frame(read.csv("elspot-prices_2018_hourly_eur.csv",sep=";"), "numeric")
cons15 = data.frame(read.csv("consumption-se-areas_2015_hourly.csv",sep=";"))
cons16 = data.frame(read.csv("consumption-se-areas_2016_hourly.csv",sep=";"))
cons17 = data.frame(read.csv("consumption-se-areas_2017_hourly.csv",sep=";"))
cons18 = data.frame(read.csv("consumption-se-areas_2018_hourly.csv",sep=";"))
wind15 = data.frame(read.csv("wind-power-se_2015_hourly.csv",sep=";"))
wind16 = data.frame(read.csv("wind-power-se_2016_hourly.csv",sep=";"))
wind17 = data.frame(read.csv("wind-power-se_2017_hourly.csv",sep=";"))
wind18 = data.frame(read.csv("wind-power-se_2018_hourly.csv",sep=";"))
#DATOER
#TIMER
#HOURS15 = dfp15[747:8763,2]
#HOURS16 = dfp16[3:8787,2]
#HOURS17 = dfp17[3:8763,2]
#HOURS18 = dfp18[3:8763,2]
#Hours = c(HOURS15,HOURS16,HOURS17,HOURS18)
#PRISER
PRICE15 = elprice15[554:8763,4]
PRICE16 = elprice16[3:8787,4]
PRICE17 = elprice17[3:8763,4]
PRICE18 = elprice18[3:6290,4]
SE1price= na_mean(c(PRICE15,PRICE16,PRICE17,PRICE18))
dfprice  = data.frame(SE1price)
#FORBRUG
CONS15 = cons15[554:8763,3]
CONS16 = cons16[3:8787,3]
CONS17 = cons17[3:8763,3]
CONS18 = cons18[3:6290,3]
SE1cons = na_mean(c(CONS15,CONS16,CONS17,CONS18))
dfcons = data.frame(SE1cons)
#VINDPRODUKTION
WIND15 = wind15[554:8763,3]
WIND16 = wind16[3:8787,3]
WIND17 = wind17[3:8763,3]
WIND18 = wind18[3:6290,3]
SE1wind =na_mean(c(WIND15,WIND16,WIND17,WIND18))
#DATO
#dato15 = elprice15[554:8763,1]
#dato16 = elprice16[3:8787,1]
#dato17 = elprice17[3:8763,1]
#dato18 = elprice18[3:6290,1]
#dato = c(dato15,dato16,dato17,dato18)
#DATA
data = data.frame(SE1price,SE1cons,SE1wind)
windseries = msts(data = SE1wind, seasonal.periods = c(24, 48, 168))
consseries = msts(data = SE1cons, seasonal.periods = c(24, 48, 168))
priceseries= msts(data = SE1price, seasonal.periods = c(24, 48, 168))
plot.ts(priceseries)
plot.ts(windseries)
plot.ts(consseries)
acf(consseries)
acf(windseries)
acf(priceseries)
decwind = decompose(windseries)
deccons = decompose(consseries)
decprice = decompose(priceseries)
plot(decwind)
plot(deccons)
plot(decprice)
myfunc = function(b_0, b_T, c_1,c_2,c_3,c_4,c_5,c_6,c_7,c_8,c_9,c_10,c_11,c_12,c13,c_14,t){
b_0+b_T*t+
c_1 * sin((t*2*pi)/365) + c_2* cos((t*2*pi)/365)+
c_3 * sin((t*4*pi)/365) + c_4 * cos((t*4*pi)/365)+
c_5 * sin((t*8*pi)/365) + c_6 * cos((t*8*pi)/365)+
c_7 * sin((t*24*pi)/365) + c_8 * cos((t*24*pi)/365)+
c_9 * sin((t*104*pi)/365) + c_10 * cos((t*104*pi)/365)+
c_11 * sin((t*730*pi)/365) + c_12 * cos((t*730*pi)/365)+
c_13 * sin((t*17520*pi)/365) + c_14 * ((t*17520*pi)/365)
}
decwind = decompose(windseries)
setwd("~/Bachelorprojekt/Bachelor/Bachelor/Bachelor/Data")
library(readxl)
library(vars)
elprice15 = data.frame(read.csv("elspot-prices_2015_hourly_eur.csv",sep=";"), "numeric")
elprice16 = data.frame(read.csv("elspot-prices_2016_hourly_eur.csv",sep=";"), "numeric")
elprice17 = data.frame(read.csv("elspot-prices_2017_hourly_eur.csv",sep=";"), "numeric")
elprice18 = data.frame(read.csv("elspot-prices_2018_hourly_eur.csv",sep=";"), "numeric")
cons15 = data.frame(read.csv("consumption-se-areas_2015_hourly.csv",sep=";"))
cons16 = data.frame(read.csv("consumption-se-areas_2016_hourly.csv",sep=";"))
cons17 = data.frame(read.csv("consumption-se-areas_2017_hourly.csv",sep=";"))
cons18 = data.frame(read.csv("consumption-se-areas_2018_hourly.csv",sep=";"))
wind15 = data.frame(read.csv("wind-power-se_2015_hourly.csv",sep=";"))
wind16 = data.frame(read.csv("wind-power-se_2016_hourly.csv",sep=";"))
wind17 = data.frame(read.csv("wind-power-se_2017_hourly.csv",sep=";"))
wind18 = data.frame(read.csv("wind-power-se_2018_hourly.csv",sep=";"))
#DATOER
#TIMER
#HOURS15 = dfp15[747:8763,2]
#HOURS16 = dfp16[3:8787,2]
#HOURS17 = dfp17[3:8763,2]
#HOURS18 = dfp18[3:8763,2]
#Hours = c(HOURS15,HOURS16,HOURS17,HOURS18)
#PRISER
PRICE15 = elprice15[554:8763,4]
PRICE16 = elprice16[3:8787,4]
PRICE17 = elprice17[3:8763,4]
PRICE18 = elprice18[3:6290,4]
SE1price= na_mean(c(PRICE15,PRICE16,PRICE17,PRICE18))
dfprice  = data.frame(SE1price)
#FORBRUG
CONS15 = cons15[554:8763,3]
CONS16 = cons16[3:8787,3]
CONS17 = cons17[3:8763,3]
CONS18 = cons18[3:6290,3]
SE1cons = na_mean(c(CONS15,CONS16,CONS17,CONS18))
dfcons = data.frame(SE1cons)
#VINDPRODUKTION
WIND15 = wind15[554:8763,3]
WIND16 = wind16[3:8787,3]
WIND17 = wind17[3:8763,3]
WIND18 = wind18[3:6290,3]
SE1wind =na_mean(c(WIND15,WIND16,WIND17,WIND18))
#DATO
#dato15 = elprice15[554:8763,1]
#dato16 = elprice16[3:8787,1]
#dato17 = elprice17[3:8763,1]
#dato18 = elprice18[3:6290,1]
#dato = c(dato15,dato16,dato17,dato18)
#DATA
data = data.frame(SE1price,SE1cons,SE1wind)
windseries = msts(data = SE1wind, seasonal.periods = c(24, 48, 168))
consseries = msts(data = SE1cons, seasonal.periods = c(24, 48, 168))
priceseries= msts(data = SE1price, seasonal.periods = c(24, 48, 168))
plot.ts(priceseries)
plot.ts(windseries)
plot.ts(consseries)
acf(consseries)
acf(windseries)
acf(priceseries)
decwind = decompose(windseries)
deccons = decompose(consseries)
decprice = decompose(priceseries)
plot(decwind)
plot(deccons)
plot(decprice)
myfunc = function(b_0, b_T, c_1,c_2,c_3,c_4,c_5,c_6,c_7,c_8,c_9,c_10,c_11,c_12,c13,c_14,t){
b_0+b_T*t+
c_1 * sin((t*2*pi)/365) + c_2* cos((t*2*pi)/365)+
c_3 * sin((t*4*pi)/365) + c_4 * cos((t*4*pi)/365)+
c_5 * sin((t*8*pi)/365) + c_6 * cos((t*8*pi)/365)+
c_7 * sin((t*24*pi)/365) + c_8 * cos((t*24*pi)/365)+
c_9 * sin((t*104*pi)/365) + c_10 * cos((t*104*pi)/365)+
c_11 * sin((t*730*pi)/365) + c_12 * cos((t*730*pi)/365)+
c_13 * sin((t*17520*pi)/365) + c_14 * ((t*17520*pi)/365)
}
install.packages("stR")
install.packages("forecast")
